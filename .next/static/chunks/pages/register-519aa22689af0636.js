(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(3633)}])},684:function(e,r,n){"use strict";var t=n(5893);n(7294);r.Z=function(e){var r=e.children;return(0,t.jsx)("div",{style:{color:"red"},children:r})}},3633:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var t=n(4051),o=n.n(t),i=n(5893),a=(n(7294),n(2627)),s=n(4231),u=n(9581),c=n(3321),l=n(684),d=n(848),f=n(5673),p=(0,d.LC)({reducerPath:"userApi",baseQuery:(0,f.ni)({baseUrl:"https://collage-enquiry-system-chatbot.herokuapp.com/api"}),tagTypes:["user"],endpoints:function(e){return{userLogin:e.mutation({query:function(e){return{url:"/sessions",method:"POST",body:e}}}),userRegister:e.mutation({query:function(e){return{url:"/users",method:"POST",body:e}}})}}}),m=(p.useUserLoginMutation,p.useUserRegisterMutation),h=n(1163),y=n(3429),v=n.n(y);function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function w(e,r,n,t,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?r(u):Promise.resolve(u).then(t,o)}function g(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function x(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){g(e,r,n[r])}))}return e}function j(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return b(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _={name:"",email:"",password:"",passwordConfirmation:""},P=s.Ry({email:s.Z_().email("Invalid email format").required("Required"),password:s.Z_().required("Required")}),O=function(){var e=j(m(),1)[0],r=(0,h.useRouter)(),n=JSON.parse("".concat(localStorage.getItem("userTokens")));(null===n||void 0===n?void 0:n.accessToken)&&r.push("/dashboard");var t=function(){var n,t=(n=o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,e(t);case 3:r.push("/login");case 4:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(e){w(i,t,o,a,s,"next",e)}function s(e){w(i,t,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,i.jsx)(a.J9,{initialValues:_,validationSchema:P,onSubmit:t,children:function(e){return(0,i.jsx)("div",{className:v().formContainer,children:(0,i.jsxs)(a.l0,{method:"post",className:v().formBox,children:[(0,i.jsxs)("div",{className:v().input,children:[(0,i.jsx)(u.Z,x({type:"text",id:"name",label:"name",variant:"outlined"},e.getFieldProps("name"))),(0,i.jsx)(a.Bc,{component:l.Z,name:"name"})]}),(0,i.jsxs)("div",{className:v().input,children:[(0,i.jsx)(u.Z,x({type:"text",id:"email",label:"Email",variant:"outlined"},e.getFieldProps("email"))),(0,i.jsx)(a.Bc,{component:l.Z,name:"email"})]}),(0,i.jsxs)("div",{className:v().input,children:[(0,i.jsx)(u.Z,x({type:"password",id:"password",label:"Password",variant:"outlined"},e.getFieldProps("password"))),(0,i.jsx)(a.Bc,{component:l.Z,name:"password"})]}),(0,i.jsxs)("div",{className:v().input,children:[(0,i.jsx)(u.Z,x({type:"password",id:"passwordConfirmation",label:"passwordConfirmation",variant:"outlined"},e.getFieldProps("passwordConfirmation"))),(0,i.jsx)(a.Bc,{component:l.Z,name:"passwordConfirmation"})]}),(0,i.jsx)("div",{className:v().input,children:(0,i.jsx)(c.Z,{type:"submit",variant:"contained",color:"success",children:"Submit"})})]})})}})}},3429:function(e){e.exports={formContainer:"userRegister_formContainer__Ypr7F",input:"userRegister_input__QiywC",formBox:"userRegister_formBox__RhtLh"}}},function(e){e.O(0,[620,774,888,179],(function(){return r=4722,e(e.s=r);var r}));var r=e.O();_N_E=r}]);