(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(9694)}])},684:function(e,n,r){"use strict";var t=r(5893);r(7294);n.Z=function(e){var n=e.children;return(0,t.jsx)("div",{style:{color:"red"},children:n})}},9694:function(e,n,r){"use strict";r.r(n);var t=r(4051),o=r.n(t),i=r(5893),s=(r(7294),r(2627)),a=r(4231),c=r(9581),u=r(3321),l=r(684),d=r(1163),f=r(5192),p=r.n(f),m=r(1248),h=r(6595),v=r(1444);function w(e,n,r,t,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void r(u)}a.done?n(c):Promise.resolve(c).then(t,o)}function _(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function b(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){_(e,n,r[n])}))}return e}var x={email:"",password:""},y=a.Ry({email:a.Z_().email("Invalid email format").required("Required"),password:a.Z_().required("Required")});n.default=function(){var e=(0,m.I0)(),n=(0,d.useRouter)(),r=JSON.parse("".concat(localStorage.getItem("userTokens")));(null===r||void 0===r?void 0:r.accessToken)&&n.push("/dashboard");var t=function(){var r,t=(r=o().mark((function r(t){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:fetch("".concat("https://collage-enquiry-system-chatbot.herokuapp.com/api","/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(r){window.localStorage.setItem("userTokens",JSON.stringify(r)),e((0,h.Rj)(r)),v.Am.success("Login Successful"),setTimeout((function(){n.push("/dashboard")}),2e3)})).catch((function(e){v.Am.error("Failed"),console.error("Error:",e)}));case 1:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,o){var i=r.apply(e,n);function s(e){w(i,t,o,s,a,"next",e)}function a(e){w(i,t,o,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,i.jsx)(s.J9,{initialValues:x,validationSchema:y,onSubmit:t,children:function(e){return(0,i.jsx)("div",{className:p().formContainer,children:(0,i.jsxs)(s.l0,{method:"post",className:p().formBox,children:[(0,i.jsxs)("div",{className:p().input,children:[(0,i.jsx)(c.Z,b({type:"text",id:"email",label:"Email",variant:"outlined"},e.getFieldProps("email"))),(0,i.jsx)(s.Bc,{component:l.Z,name:"email"})]}),(0,i.jsxs)("div",{className:p().input,children:[(0,i.jsx)(c.Z,b({type:"password",id:"password",label:"Password",variant:"outlined"},e.getFieldProps("password"))),(0,i.jsx)(s.Bc,{component:l.Z,name:"password"})]}),(0,i.jsx)("div",{className:p().input,children:(0,i.jsx)(u.Z,{type:"submit",variant:"contained",color:"success",children:"Submit"})}),(0,i.jsx)(v.Ix,{})]})})}})}},5192:function(e){e.exports={formContainer:"userLogin_formContainer__fWzxV",input:"userLogin_input__CoRoY",formBox:"userLogin_formBox__3NS1S"}}},function(e){e.O(0,[620,444,774,888,179],(function(){return n=3236,e(e.s=n);var n}));var n=e.O();_N_E=n}]);